(self["webpackChunkopenchat"]=self["webpackChunkopenchat"]||[]).push([[481],{5739:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex w-full justify-center bg-sky-500"},[n("div",{staticClass:"max-w-md py-4 px-8 bg-white shadow-lg rounded-lg my-20"},[n("div",{staticClass:"flex justify-center md:justify-end -mt-16"},[n("img",{staticClass:"w-20 h-20 object-cover rounded-full border-2 border-white-500",attrs:{alt:e.info.name,src:e.icon}})]),n("div",[n("h2",{staticClass:"text-gray-800 text-3xl font-semibold"},[e._v(e._s(e.info.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.accept,expression:"!accept"}],staticClass:"mt-6 text-gray-600",domProps:{innerHTML:e._s(e.description)}}),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.accept,expression:"!accept"}],staticClass:"mt-6 text-amber-600"},[e._v(" 加入社群，即代表您同意遵守我們的 "),n("router-link",{staticClass:"text-red-500",attrs:{to:"/rule"}},[e._v("社群守則")]),e._v(" 。 ")],1),n("p",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"mt-2 text-red-600"},[e._v(e._s(e.status))]),n("p",{directives:[{name:"show",rawName:"v-show",value:e.accept,expression:"accept"}],staticClass:"mt-2 text-gray-600"},[e._v(" 請複製這份代碼，再貼上到OpenChat的審核答案內： ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.accept,expression:"accept"}],staticClass:"w-full mt-2 text-gray-600 flex rounded bg-white shadow-md"},[n("input",{staticClass:"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none",attrs:{disabled:!e.ready,type:"text"},domProps:{value:e.secret}}),n("button",{staticClass:"m-2 rounded px-4 py-2 font-semibold",attrs:{disabled:!e.ready},on:{click:e.copySecret}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:!e.ready,expression:"!ready"}],staticClass:"animate-spin -ml-1 mr-3 h-5 w-5",attrs:{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),n("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]),n("svg",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"h-6 w-6",attrs:{fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2","stroke-linecap":"round","stroke-linejoin":"round"}})])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.accept,expression:"!accept"}],staticClass:"checkbox my-3"},[n("div",{attrs:{id:"captcha","data-theme":"light"}})]),n("div",{staticClass:"flex justify-end mt-4"},[n("button",{staticClass:"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",attrs:{disabled:!e.ready},on:{click:e.submit}},[n("svg",{directives:[{name:"show",rawName:"v-show",value:!e.ready,expression:"!ready"}],staticClass:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",attrs:{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),n("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]),e._v(" "+e._s(e.state)+" ")])])])])},a=[],s=n(6198),i=(n(8975),n(2222),n(4916),n(5306),n(8757),n(2526),n(1817),n(1539),n(8783),n(3948),n(1637),n(7590)),o={name:"JoinChatView",props:{code:{type:String,required:!0}},data:function(){return{info:{name:null,description:null,url:null},captcha:null,secret:null,status:null,accept:!1,ready:!0,turnstileScript:null}},computed:{icon:function(){return this.code?"".concat("/openchat/","static/images/chats/").concat(this.code,".jpg"):null},description:function(){return this.info.description.replaceAll("\n","<br />")},state:function(){return this.accept?this.ready?"前往OpenChat界面貼上代碼":"載入中...":"加入社群"}},methods:{copySecret:function(){var e=this;navigator.clipboard?navigator.clipboard.writeText(this.secret).then((function(){return e.status="已複製代碼"})).catch((function(){return e.status="無法複製代碼"})):this.status="您的瀏覽器不支援複製功能"},submit:function(){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function t(){var n,r,a,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.accept){t.next=26;break}if(e.captcha){t.next=4;break}return e.status="尚未完成系統驗證",t.abrupt("return");case 4:return e.accept=!0,e.ready=!1,e.status="",n=new URLSearchParams,n.set("slug",e.code),n.set("captcha",e.captcha),t.prev=10,t.next=13,e.$axios.post("application",n);case 13:r=t.sent,e.ready=!0,e.secret=r.data.code,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](10),null!==t.t0&&void 0!==t.t0&&null!==(a=t.t0.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.code?e.secret=null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.code:e.status="授權伺服器發生嚴重錯誤";case 21:return t.prev=21,e.ready=!0,t.finish(21);case 24:t.next=27;break;case 26:location.href=e.info.url;case 27:case"end":return t.stop()}}),t,null,[[10,18,21,24]])})))()}},mounted:function(){document.head.appendChild(this.turnstileScript)},beforeDestroy:function(){document.head.removeChild(this.turnstileScript)},created:function(){var e=this,t="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=loadTurnstile";this.turnstileScript=document.createElement("script"),this.turnstileScript.setAttribute("src",t),window.loadTurnstile=function(){window.turnstile.render("#captcha",{sitekey:"0x4AAAAAAAr6LY1hBUbTBkVA",callback:function(t){e.captcha=t}})},this.code in i?this.info=i[this.code]:this.$router.replace({name:"join"})}},l=o,c=n(1001),u=(0,c.Z)(l,r,a,!1,null,null,null),h=u.exports},590:function(e,t,n){var r=n(7293),a=n(5112),s=n(1913),i=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8757:function(e,t,n){"use strict";var r=n(2109),a=n(7854),s=n(6916),i=n(1702),o=n(4488),l=n(614),c=n(7850),u=n(1340),h=n(8173),p=n(7066),d=n(647),f=n(5112),v=n(1913),w=f("replace"),m=RegExp.prototype,g=a.TypeError,y=i(p),x=i("".indexOf),b=i("".replace),k=i("".slice),C=Math.max,R=function(e,t,n){return n>e.length?-1:""===t?n:x(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,a,i,p,f,S,A,L,P=o(this),U=0,_=0,j="";if(null!=e){if(n=c(e),n&&(r=u(o("flags"in m?e.flags:y(e))),!~x(r,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(a=h(e,w),a)return s(a,e,P,t);if(v&&n)return b(u(P),e,t)}i=u(P),p=u(e),f=l(t),f||(t=u(t)),S=p.length,A=C(1,S),U=R(i,p,0);while(-1!==U)L=f?u(t(p,U,i)):d(p,i,U,[],void 0,t),j+=k(i,_,U)+L,_=U+S,U=R(i,p,U+A);return _<i.length&&(j+=k(i,_)),j}})},1637:function(e,t,n){"use strict";n(6992);var r=n(2109),a=n(7854),s=n(5005),i=n(6916),o=n(1702),l=n(590),c=n(1320),u=n(2248),h=n(8003),p=n(4994),d=n(9909),f=n(5787),v=n(614),w=n(2597),m=n(9974),g=n(648),y=n(9670),x=n(111),b=n(1340),k=n(30),C=n(9114),R=n(8554),S=n(1246),A=n(8053),L=n(5112),P=n(4362),U=L("iterator"),_="URLSearchParams",j=_+"Iterator",N=d.set,z=d.getterFor(_),H=d.getterFor(j),E=s("fetch"),T=s("Request"),M=s("Headers"),I=T&&T.prototype,Q=M&&M.prototype,V=a.RegExp,B=a.TypeError,F=a.decodeURIComponent,J=a.encodeURIComponent,O=o("".charAt),q=o([].join),D=o([].push),W=o("".replace),K=o([].shift),Z=o([].splice),$=o("".split),X=o("".slice),Y=/\+/g,G=Array(4),ee=function(e){return G[e-1]||(G[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return F(e)}catch(t){return e}},ne=function(e){var t=W(e,Y," "),n=4;try{return F(t)}catch(r){while(n)t=W(t,ee(n--),te);return t}},re=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},ie=function(e){return W(J(e),re,se)},oe=p((function(e,t){N(this,{type:j,iterator:R(z(e).entries),kind:t})}),"Iterator",(function(){var e=H(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===O(e,0)?X(e,1):e:b(e)))};le.prototype={type:_,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,a,s,o,l,c=S(e);if(c){t=R(e,c),n=t.next;while(!(r=i(n,t)).done){if(a=R(y(r.value)),s=a.next,(o=i(s,a)).done||(l=i(s,a)).done||!i(s,a).done)throw B("Expected sequence with length 2");D(this.entries,{key:b(o.value),value:b(l.value)})}}else for(var u in e)w(e,u)&&D(this.entries,{key:u,value:b(e[u])})},parseQuery:function(e){if(e){var t,n,r=$(e,"&"),a=0;while(a<r.length)t=r[a++],t.length&&(n=$(t,"="),D(this.entries,{key:ne(K(n)),value:ne(q(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],D(n,ie(e.key)+"="+ie(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){f(this,ue);var e=arguments.length>0?arguments[0]:void 0;N(this,new le(e))},ue=ce.prototype;if(u(ue,{append:function(e,t){A(arguments.length,2);var n=z(this);D(n.entries,{key:b(e),value:b(t)}),n.updateURL()},delete:function(e){A(arguments.length,1);var t=z(this),n=t.entries,r=b(e),a=0;while(a<n.length)n[a].key===r?Z(n,a,1):a++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=z(this).entries,n=b(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){A(arguments.length,1);for(var t=z(this).entries,n=b(e),r=[],a=0;a<t.length;a++)t[a].key===n&&D(r,t[a].value);return r},has:function(e){A(arguments.length,1);var t=z(this).entries,n=b(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,r=z(this),a=r.entries,s=!1,i=b(e),o=b(t),l=0;l<a.length;l++)n=a[l],n.key===i&&(s?Z(a,l--,1):(s=!0,n.value=o));s||D(a,{key:i,value:o}),r.updateURL()},sort:function(){var e=z(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=z(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),a=0;while(a<n.length)t=n[a++],r(t.value,t.key,this)},keys:function(){return new oe(this,"keys")},values:function(){return new oe(this,"values")},entries:function(){return new oe(this,"entries")}},{enumerable:!0}),c(ue,U,ue.entries,{name:"entries"}),c(ue,"toString",(function(){return z(this).serialize()}),{enumerable:!0}),h(ce,_),r({global:!0,forced:!l},{URLSearchParams:ce}),!l&&v(M)){var he=o(Q.has),pe=o(Q.set),de=function(e){if(x(e)){var t,n=e.body;if(g(n)===_)return t=e.headers?new M(e.headers):new M,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(e,{body:C(0,b(n)),headers:C(0,t)})}return e};if(v(E)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(e,arguments.length>1?de(arguments[1]):{})}}),v(T)){var fe=function(e){return f(this,I),new T(e,arguments.length>1?de(arguments[1]):{})};I.constructor=fe,fe.prototype=I,r({global:!0,forced:!0},{Request:fe})}}e.exports={URLSearchParams:ce,getState:z}},7590:function(e){"use strict";e.exports=JSON.parse('{"research":{"name":"Taiwan Web Technology Promotion 臺灣網際網路技術推廣","description":"console.log(\\"Hello World!\\");\\n\\n歡迎來到程式的世界，這裡有各式各樣類型的開發者。\\n從網路工程到機器學習：什麼都有，什麼都不奇怪！\\n\\n歡迎彼此互相切磋及探討相關問題～","url":"https://line.me/ti/g2/lPx3ICiyRmK_igae77rMpw","page_url":"https://ncurl.xyz/s/-73eAWQng"},"line-dev":{"name":"LINE Developers (Community)","description":"LINE開發者社群，你是LINE Developer嗎？\\n歡迎您的加入！這裡是非官方的OpenChat社群，\\n為即時與開發者們互動所打造，歡迎各位的加入！","url":"https://line.me/ti/g2/Fi11VhNE7XDI0MPmxxbnoA","page_url":"https://ncurl.xyz/s/RTV21KQ7R"},"php-tw":{"name":"PHP Plus 社群","description":"專屬 PHP 的社群，\\n你也是爆肝 PHP 工程師嗎？\\n\\n歡迎：\\n新人入坑啊哩刪，舊人一起扶屎山 _(´ཀ`」 ∠)\\n\\n一袋米要扛幾樓（ry","url":"https://line.me/ti/g2/rQT19HAbBoQJ12FBMqsMAA","page_url":"https://ncurl.xyz/s/W-SNBFQnR"},"vue-tw":{"name":"Vue.js Plus 社群","description":"漸進式框架 Vue.js 的專屬社群！\\n\\n專為前端開發者打造，專注研究 Vue.js 工具鍊，\\n分享最先進與最專業的 Vue.js 與前端網頁技術資訊。\\n\\n（雖然平常時好像都在聊吃的笑死）","url":"https://line.me/ti/g2/J7bTfoHgmfgc42C9baJNs2gwH00kAMd9QfJDsQ","page_url":"https://ncurl.xyz/s/vJS7bZQng"},"linux-tw":{"name":"Linux Plus 社群","description":"共創基於 Linux 的美好未來！\\n\\n透過集思廣益和協同合作，\\n讓它的力量惠及每個人。\\n\\n讓創新無界限，讓科技造福更多人！","url":"https://line.me/ti/g2/-7-znfYtaxfHuJi7Nm8H-8WzUPoWeFngnSI7XQ","page_url":"https://ncurl.xyz/s/mxg-5FySR"},"ai-tw":{"name":"Artificial Intelligence Plus 社群","description":"攜手探索 AI 的無限可能，\\n透過創新與合作，\\n打造一個智慧化、人機共榮的未來！","url":"https://line.me/ti/g2/GFtuLBRsUlrS9dKHuPS-ThMNj3dzqh8kfobU6w","page_url":"https://ncurl.xyz/s/wPDojAySg"}}')}}]);
//# sourceMappingURL=481-legacy.dbb1c0f5.js.map